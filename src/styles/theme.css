/* ======================================================================
   BLACK DIAMOND APP - TEMA PREMIUM OSCURO
   Paleta: Negros profundos, Dorados champagne, Acentos platino
   Audiencia: Hombres 25-50 años, estrato alto
   ====================================================================== */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ======================================================================
   VARIABLES DE COLOR - MODO OSCURO FORZADO
   ====================================================================== */

@layer base {
  :root,
  .dark,
  [data-mode="dark"] {
    /* FORZAR modo oscuro siempre */
    color-scheme: dark !important;
    
    /* Colores de fondo - Negros profundos */
    --background: 220 15% 6% !important;
    --foreground: 220 10% 95% !important;
    
    /* Colores de tarjetas - Negro carbón con sutil brillo */
    --card: 220 15% 10% !important;
    --card-foreground: 220 10% 95% !important;
    
    /* Popover */
    --popover: 220 15% 8% !important;
    --popover-foreground: 220 10% 95% !important;
    
    /* Primario - Dorado champagne */
    --primary: 45 80% 65% !important;
    --primary-foreground: 220 15% 10% !important;
    
    /* Secundario - Platino */
    --secondary: 220 10% 25% !important;
    --secondary-foreground: 220 10% 95% !important;
    
    /* Muted - Gris oscuro */
    --muted: 220 10% 20% !important;
    --muted-foreground: 220 10% 65% !important;
    
    /* Acentos */
    --accent: 45 70% 60% !important;
    --accent-foreground: 220 15% 10% !important;
    
    /* Destructivos */
    --destructive: 0 62% 50% !important;
    --destructive-foreground: 220 10% 95% !important;
    
    /* Bordes y separadores */
    --border: 220 10% 20% !important;
    --input: 220 10% 20% !important;
    --ring: 45 80% 65% !important;
    
    /* Radio de bordes */
    --radius: 0.75rem !important;
  }

  /* Ignorar preferencias del sistema - SIEMPRE oscuro */
  @media (prefers-color-scheme: light) {
    :root,
    .dark,
    [data-mode="dark"] {
      color-scheme: dark !important;
      --background: 220 15% 6% !important;
      --foreground: 220 10% 95% !important;
    }
  }

  /* ======================================================================
     ESTILOS BASE - FORZAR MODO OSCURO CON MÁXIMA PRIORIDAD
     ====================================================================== */

  * {
    border-color: hsl(var(--border)) !important;
  }

  html {
    background-color: hsl(220 15% 6%) !important;
    background: hsl(220 15% 6%) !important;
    color: hsl(220 10% 95%) !important;
    color-scheme: dark !important;
  }

  body {
    background-color: hsl(220 15% 6%) !important;
    background: hsl(220 15% 6%) !important;
    color: hsl(220 10% 95%) !important;
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    color-scheme: dark !important;
  }

  #root {
    background-color: hsl(220 15% 6%) !important;
    background: hsl(220 15% 6%) !important;
    color: hsl(220 10% 95%) !important;
  }
}

/* ======================================================================
   SOMBRAS PREMIUM
   ====================================================================== */

@layer utilities {
  .shadow-premium {
    box-shadow: 
      0 0 20px rgba(212, 175, 55, 0.1),
      0 10px 30px rgba(0, 0, 0, 0.5);
  }

  .shadow-card {
    box-shadow: 
      0 4px 12px rgba(0, 0, 0, 0.4),
      0 0 10px rgba(212, 175, 55, 0.05);
  }

  .shadow-glow {
    box-shadow: 0 0 30px rgba(212, 175, 55, 0.2);
  }
}

/* ======================================================================
   SCROLL BARS PREMIUM
   ====================================================================== */

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
  border-radius: 5px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(
    180deg, 
    hsl(var(--primary)) 0%, 
    hsl(var(--accent)) 100%
  );
  border-radius: 5px;
  border: 2px solid hsl(var(--muted));
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(
    180deg, 
    hsl(var(--accent)) 0%, 
    hsl(var(--primary)) 100%
  );
}

/* ======================================================================
   OPTIMIZACIÓN MÓVIL - PREVENIR OVERFLOW HORIZONTAL
   ====================================================================== */

/* Contenedor principal sin overflow */
html, body {
  max-width: 100vw;
  overflow-x: clip !important;
  position: relative;
}

/* Root de React sin overflow */
#root {
  max-width: 100vw;
  overflow-x: clip !important;
  min-width: 0;
}

/* FORZAR que container nunca cause overflow */
.container {
  max-width: 100vw !important;
  overflow-x: clip !important;
}

/* Permitir que flex y grid items se encojan */
*[class*="flex"],
*[class*="grid"] {
  min-width: 0;
  min-height: 0;
}

/* ======================================================================
   CHAT TERMINAL - FIX OVERFLOW
   ====================================================================== */

/* Contenedor principal del chat */
[data-chat-container] {
  max-width: 100% !important;
  min-width: 0 !important;
  overflow-x: clip !important;
  box-sizing: border-box !important;
}

/* Lista de conversaciones */
[data-chat-list],
[data-chat-list="v2-fixed"] {
  max-width: 100% !important;
  min-width: 0 !important;
  width: 100% !important;
  overflow-x: clip !important;
  box-sizing: border-box !important;
}

/* Tarjetas de conversación */
[data-conversation-card] {
  overflow: hidden !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* TODOS los elementos dentro de las tarjetas */
[data-conversation-card] * {
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Elementos de texto truncados */
[data-conversation-card] p,
[data-conversation-card] span {
  max-width: 100% !important;
  min-width: 0 !important;
}

/* ======================================================================
   MOBILE RESPONSIVE - REDUCIR PADDING EN MÓVILES
   ====================================================================== */

@media (max-width: 640px) {
  [data-chat-list],
  [data-chat-list="v2-fixed"] {
    padding-left: 0.25rem !important;
    padding-right: 0.25rem !important;
  }
  
  [data-conversation-card] {
    padding: 0.375rem !important;
  }
}

@media (max-width: 375px) {
  [data-chat-list],
  [data-chat-list="v2-fixed"] {
    padding-left: 0.125rem !important;
    padding-right: 0.125rem !important;
  }
  
  [data-conversation-card] {
    padding: 0.25rem !important;
  }
}

/* ======================================================================
   EFECTOS HOVER PREMIUM
   ====================================================================== */

.hover-glow {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-glow:hover {
  box-shadow: 
    0 0 20px rgba(212, 175, 55, 0.15),
    0 8px 24px rgba(0, 0, 0, 0.6);
  transform: translateY(-2px);
}

/* ======================================================================
   GRADIENTES PREMIUM
   ====================================================================== */

.gradient-gold {
  background: linear-gradient(
    135deg,
    hsl(var(--primary)) 0%,
    hsl(var(--accent)) 100%
  );
}

.gradient-dark {
  background: linear-gradient(
    180deg,
    hsl(var(--card)) 0%,
    hsl(var(--background)) 100%
  );
}

/* ======================================================================
   ANIMACIONES SUAVES
   ====================================================================== */

.transition-premium {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ======================================================================
   INPUTS PREMIUM
   ====================================================================== */

input, textarea, select {
  background-color: hsl(var(--muted)) !important;
  border-color: hsl(var(--border)) !important;
  color: hsl(var(--foreground)) !important;
  transition: all 0.2s;
}

input:focus, textarea:focus, select:focus {
  border-color: hsl(var(--primary));
  outline: none;
  box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
}

input::placeholder, textarea::placeholder {
  color: hsl(var(--muted-foreground)) !important;
  opacity: 0.6;
}

/* ======================================================================
   FIX CRÍTICO: PREVENIR TEXTO NEGRO
   ====================================================================== */

/* Forzar que TODOS los textos usen colores claros */
p, span, div, label, h1, h2, h3, h4, h5, h6, a, li, td, th {
  color: inherit !important;
}

/* Sobreescribir cualquier clase text-black o text-gray-900 */
.text-black,
.text-gray-900,
.text-slate-900,
[class*="text-black"],
[class*="text-gray-900"],
[class*="text-slate-900"] {
  color: hsl(var(--foreground)) !important;
}

/* Asegurar que labels tengan buen contraste */
label {
  color: hsl(var(--foreground)) !important;
}

/* Asegurar que botones tengan contraste */
button {
  color: inherit;
}

/* Específicamente para textos dentro de cards */
.card p,
.card span,
.card div,
[class*="card"] p,
[class*="card"] span,
[class*="card"] div {
  color: hsl(var(--card-foreground)) !important;
}

/* ======================================================================
   BUTTONS PREMIUM
   ====================================================================== */

button {
  transition: all 0.2s;
}

button:active {
  transform: scale(0.98);
}

/* ======================================================================
   BACKGROUNDS CON BACKDROP BLUR
   ====================================================================== */

.backdrop-premium {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: rgba(15, 16, 20, 0.9);
}