<!doctype html>
<html lang="es" class="dark" data-mode="dark" style="color-scheme: dark !important; background-color: #0d0d0d !important; background: #0d0d0d !important;">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="dark" />
    <meta name="theme-color" content="#0d0d0d" />
    <title>Black Diamond App</title>
    
    <!-- ‚úÖ PRELOAD: Fuentes cr√≠ticas ANTES que todo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Montserrat:wght@300;400;500;600;700;800;900&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" media="print" onload="this.media='all'">
    <noscript>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&family=Montserrat:wght@300;400;500;600;700;800;900&display=swap">
    </noscript>
    
    <style>
      /* ‚úÖ PROTECCI√ìN ULTRA AGRESIVA - Black Diamond */
      * {
        box-sizing: border-box;
      }
      
      html {
        margin: 0 !important;
        padding: 0 !important;
        background-color: #0d0d0d !important;
        background: #0d0d0d !important;
        color: #e8e6e3 !important;
        color-scheme: dark !important;
        font-family: 'Montserrat', system-ui, -apple-system, sans-serif !important;
      }
      
      body {
        margin: 0 !important;
        padding: 0 !important;
        background-color: #0d0d0d !important;
        background: #0d0d0d !important;
        color: #e8e6e3 !important;
        color-scheme: dark !important;
        min-height: 100vh;
        font-family: 'Montserrat', system-ui, -apple-system, sans-serif !important;
      }
      
      #root {
        min-height: 100vh;
        background-color: #0d0d0d !important;
        background: #0d0d0d !important;
        color: #e8e6e3 !important;
      }
      
      /* Capa de fondo de emergencia - Siempre visible */
      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: #0d0d0d !important;
        background: #0d0d0d !important;
        z-index: -9999;
        pointer-events: none;
      }

      /* Forzar en todos los media queries */
      @media (prefers-color-scheme: light) {
        html, body, #root {
          background-color: #0d0d0d !important;
          background: #0d0d0d !important;
          color: #e8e6e3 !important;
          color-scheme: dark !important;
        }
      }

      @media (prefers-color-scheme: dark) {
        html, body, #root {
          background-color: #0d0d0d !important;
          background: #0d0d0d !important;
          color: #e8e6e3 !important;
          color-scheme: dark !important;
        }
      }

      /* Prevenir cualquier texto negro */
      * {
        color: inherit;
      }
      
      /* ‚úÖ Definir fuentes para headings ANTES de cargar CSS */
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Playfair Display', serif !important;
      }

      /* Loader inicial */
      .initial-loader {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #c9a961;
        font-size: 1.2rem;
        font-weight: 500;
        font-family: 'Montserrat', system-ui, sans-serif;
        z-index: 100000;
      }
    </style>
  </head>
  <body class="dark" data-mode="dark" style="background-color: #0d0d0d !important; color: #e8e6e3 !important;">
    
    <!-- ‚úÖ DEBUGGING: Capturar errores ANTES de React -->
    <script>
      console.log('üöÄ index.html: Iniciando...');
      
      // Mostrar loader inicial
      const loader = document.createElement('div');
      loader.className = 'initial-loader';
      loader.textContent = 'Cargando Black Diamond App...';
      document.body.appendChild(loader);
      
      // Capturar todos los errores
      window.addEventListener('error', function(event) {
        console.error('‚ùå ERROR CAPTURADO EN INDEX.HTML:', {
          message: event.message,
          filename: event.filename,
          lineno: event.lineno,
          colno: event.colno,
          error: event.error
        });
        
        // Mostrar error en pantalla
        loader.innerHTML = `
          <div style="text-align: center; max-width: 600px; padding: 2rem; background: #1a1a24; border: 2px solid #ff4444; border-radius: 12px;">
            <h1 style="color: #ff4444; margin-bottom: 1rem;">‚ùå Error Detectado</h1>
            <p style="margin-bottom: 1rem; color: #e8e6e3;">Error en: ${event.filename}</p>
            <p style="margin-bottom: 1rem; color: #e8e6e3;">L√≠nea: ${event.lineno}:${event.colno}</p>
            <p style="margin-bottom: 1rem; color: #e8e6e3; font-size: 0.875rem;">${event.message}</p>
            <button onclick="location.reload()" style="padding: 0.75rem 1.5rem; background: #c9a961; color: #0a0a0f; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-family: Montserrat, sans-serif;">
              Recargar P√°gina
            </button>
          </div>
        `;
      });
      
      window.addEventListener('unhandledrejection', function(event) {
        console.error('‚ùå PROMISE REJECTION EN INDEX.HTML:', event.reason);
        
        loader.innerHTML = `
          <div style="text-align: center; max-width: 600px; padding: 2rem; background: #1a1a24; border: 2px solid #ff4444; border-radius: 12px;">
            <h1 style="color: #ff4444; margin-bottom: 1rem;">‚ùå Error Async</h1>
            <p style="margin-bottom: 1rem; color: #e8e6e3; font-size: 0.875rem;">${event.reason}</p>
            <button onclick="location.reload()" style="padding: 0.75rem 1.5rem; background: #c9a961; color: #0a0a0f; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-family: Montserrat, sans-serif;">
              Recargar P√°gina
            </button>
          </div>
        `;
      });
      
      // Remover loader despu√©s de 5 segundos (si React no lo hace antes)
      setTimeout(function() {
        if (loader.parentNode) {
          console.log('‚ö†Ô∏è Loader a√∫n visible despu√©s de 5s - posible problema de carga');
          loader.textContent = 'Cargando... (tomando m√°s tiempo de lo esperado)';
        }
      }, 5000);
      
      console.log('‚úÖ index.html: Event listeners configurados');
    </script>
    
    <div id="root" style="background-color: #0d0d0d !important; color: #e8e6e3 !important;"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>